<div class="container mat-elevation-z8">
    <h1 class="full-width">Demitir funcionário {{ funcionario.pessoa.nome }}</h1>
    <img class="full-width" src="assets/img/funcionario-demissao.svg" alt="demissao image">

    <h3 class="fullWidth">Dados Funcionario</h3>

    <form class="form" [formGroup]="funcionarioForm">

        <div class="row-container">
            <!-- nome -->
            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Nome do Funcionário</mat-label>
                <input readonly="true" formControlName="nome" matInput placeholder="Ex. Trocar bateria de notebook">
                <mat-icon matSuffix>person</mat-icon>
            </mat-form-field>

            <!-- vinculo -->
            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Vínculo</mat-label>
                <input readonly="true" formControlName="vinculo" matInput placeholder="Ex. Trocar bateria de notebook">
                <mat-icon matSuffix>work</mat-icon>
            </mat-form-field>
        </div>
        <div class="row-container">
            <!-- cargo -->
            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Cargo</mat-label>
                <input readonly="true" formControlName="cargo" matInput placeholder="Ex. Desenvolvedor">
                <mat-icon matSuffix>work</mat-icon>
            </mat-form-field>

            <!-- dataAdmissao -->
            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Data de Admissão</mat-label>
                <input readonly="true" matInput [matDatepicker]="picker" placeholder="Ex. 01/01/2022"
                    formControlName="dataEntrada" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
        <div class="row-container">

            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Salário</mat-label>
                <input readonly="true" formControlName="salario" matInput placeholder="Ex. Desenvolvedor">
                <mat-icon matSuffix>attach_money</mat-icon>
            </mat-form-field>

            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Selecione um Tipo de Demissão</mat-label>
                <mat-select formControlName="tipoDemissao" name="tipoDemissao" required>
                    <mat-option *ngFor="let tip of tiposDemissoes" [value]="tip">{{ tip.nome }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <mat-form-field class="full-width" appearance="outline">
            <mat-label>Motivo da Demissão</mat-label>
            <textarea class="descricao" #motivoTextarea formControlName="motivo" matInput
                placeholder="Ex. Novas oportunidades"></textarea>
            <span class="contador">{{ motivoTextarea.value ? motivoTextarea.value.length : 0 }}/255</span>
        </mat-form-field>
    </form>

    <!-- span de erros -->
    <span *ngIf="!funcionarioForm.valid" class="error-message">
        Para demitir um funcionário é necessário informar o motivo e tipo da demissão.
    </span>

    <!-- botões -->
    <button (click)="demitir()" [disabled]="!funcionarioForm.valid" class="full-width mat-elevation-z4"
        mat-raised-button color="primary">Demitir</button>
    <button routerLink="../../" class="full-width mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>
</div>